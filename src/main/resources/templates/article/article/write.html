<html layout:decorate="~{global/layout}">
<div layout:fragment="content" class="p-2">
<h2 class="font-bold mb-2">글 작성</h2>


<form class="flex flex-col gap-4" method="post" onsubmit="submitWriteForm(this); return false;">

    <div class="form-control">
        <label class="label">
            <span class="label-text">제목</span>
        </label>
        <input type="text" placeholder="제목을 입력하세요" name="title" class="input input-bordered" />
    </div>

    <div class="form-control">
        <label class="label">
            <span class="label-text">내용</span>
        </label>
        <input type="text" placeholder="내용을 입력하세요" name="body" class="input input-bordered" />
    </div>


    <button class="btn btn-primary btn-block" type="submit">
        글쓰기
    </button>

</form>

<script>
    function submitWriteForm(form){
        const inputTitle = form.title;
        const inputBody = form.body;

        inputTitle.value = inputTitle.value.trim();
        inputBody.value = inputBody.value.trim();

        const title = inputTitle.value;
        const body = inputBody.value;

        if(title.length == 0 ){
            toastWarning("제목을 입력해주세요.");
            inputTitle.focus();
            return;
        }

        if(body.length == 0 ){
            toastWarning("내용을 입력해주세요.");
            inputBody.focus();
            return;
        }

        form.submit();
    }
</script>
</div>
</html>

